.wrapper {
  padding: 24px;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
}

.title {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--text-primary); /* Variável */
}

.sectionTitle {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-secondary); /* Variável */
  margin-bottom: 0;
}

.btnAddBank {
  background: var(--card-bg); /* Variável */
  color: var(--text-secondary); /* Variável */
  border: 1px solid var(--border-color); /* Variável */
  border-radius: 6px;
  padding: 6px 12px;
  cursor: pointer;
  font-size: 13px;
  font-weight: bold;
  transition: all 0.2s;

  &:hover {
    background: var(--hover-bg);
    color: var(--text-primary);
  }
}

.filters {
  display: flex;
  gap: 12px;
}

.btnPrimary {
  background-color: var(--accent); /* Variável */
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: filter 0.2s;

  &:hover {
    filter: brightness(1.1);
  }
}

.kpiRow {
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
  overflow-x: auto;
  padding-bottom: 4px;
}

.kpi {
  background: var(--card-bg); /* Variável */
  border: 1px solid var(--border-color); /* Variável */
  padding: 20px;
  border-radius: 16px;
  min-width: 220px;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Bordas coloridas para diferenciar contas */
.kpiBlue { border-left: 4px solid #3b82f6; }
.kpiGreen { border-left: 4px solid #10b981; }
.kpiPink { border-left: 4px solid #ec4899; }

.kpiHeader {
  font-size: 14px;
  color: var(--text-secondary); /* Variável */
  text-transform: uppercase;
  font-weight: 600;
}

.kpiValue {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary); /* Variável */
}

.subTitle {
  color: var(--text-secondary); /* Variável */
  font-size: 14px;
}

/* LAYOUT GERAL */
.grid2 {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 24px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.card {
  background: var(--card-bg); /* Variável */
  padding: 24px;
  border-radius: 16px;
  border: 1px solid var(--border-color); /* Variável */
}

.cardTitle {
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 1.1rem;
  color: var(--text-secondary); /* Variável */
  text-transform: uppercase;
  font-weight: 700;
}

/* TABELA DE TRANSAÇÕES */
.table {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.trowHeader {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 16px 8px 16px;
  border-bottom: 1px solid var(--border-color); /* Variável */
  font-size: 13px;
  color: var(--text-secondary); /* Variável */
  font-weight: 600;
  text-transform: uppercase;
  
  /* Mantém layout das colunas */
  span:nth-child(1) { flex: 1; } /* Descrição */
  span:nth-child(2) { width: 100px; } /* Data */
  span:nth-child(3) { width: 120px; text-align: right; } /* Valor */
  span:nth-child(4) { width: 50px; } /* Ações */
}

.trow {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--background); /* Leve contraste dentro do card */
  border-radius: 12px;
  transition: transform 0.2s;

  &:hover {
    transform: translateX(4px);
    background: var(--hover-bg); /* Variável */
  }
}

.positive { color: #10b981; font-weight: 600; }
.negative { color: #ef4444; font-weight: 600; }

/* SEÇÃO PATRIMÔNIO */
.patrimonySection {
  margin-bottom: 24px;
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px;
  @media (max-width: 768px) { grid-template-columns: 1fr; }
}

.sectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.patrimonyCard {
  @extend .card;
  display: flex;
  flex-direction: column;
  justify-content: center;
  
  .label {
    color: var(--text-secondary); /* Variável */
    font-size: 0.9rem;
    text-transform: uppercase;
    font-weight: bold;
    margin-bottom: 10px;
  }

  .bigValue {
    font-size: 2rem;
    font-weight: bold;
    color: var(--text-primary); /* Variável */
    margin-bottom: 8px;
  }

  .comparisonBox {
    padding-top: 16px;
    border-top: 1px solid var(--border-color); /* Variável */

    p {
      font-size: 0.85rem;
      color: var(--text-secondary); /* Variável */
      margin-bottom: 4px;
    }

    .diffValue {
      font-size: 1.1rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 6px;

      &.profit { color: #4ade80; }
      &.loss { color: #f87171; }
    }
  }
}

/* CARD RESUMO MENSAL */
.summaryGrid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 16px;
  margin-bottom: 24px;
  @media (max-width: 768px) { grid-template-columns: 1fr; }
}

.summaryCard {
  background: var(--card-bg); /* Variável */
  padding: 16px;
  border-radius: 12px;
  border: 1px solid var(--border-color); /* Variável */
  text-align: center;

  span {
    display: block;
    color: var(--text-secondary); /* Variável */
    font-size: 0.875rem;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 4px;
  }

  .value {
    font-size: 1.25rem;
    font-weight: 700;
    &.green { color: #4ade80; }
    &.red { color: #f87171; }
    &.blue { color: #60a5fa; }
  }
}

/* LISTA DE CATEGORIAS */
.categoryList {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.categoryItem {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.catHeader {
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary); /* Variável */
}

.catBarBg {
  width: 100%;
  height: 8px;
  background-color: var(--background); /* Fundo da barra */
  border-radius: 4px;
  overflow: hidden;
}

.catBarFill {
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease-out;
}

.editBtn {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 1.2rem;
  opacity: 0.6;
  transition: opacity 0.2s;
  padding: 0 8px; /* Espacinho para clicar melhor */

  /* O CSS resolve o hover sozinho! */
  &:hover {
    opacity: 1;
    transform: scale(1.1);
  }
}


.trowInfo {
  display: flex;
  flex-direction: column;
  flex: 1; /* Ocupa o espaço disponível */
  
  strong {
    color: var(--text-primary); /* Preto no Claro, Branco no Escuro */
    font-size: 0.95rem;
  }

  .trowDetail {
    font-size: 0.75rem;
    color: var(--text-secondary); /* Cinza adaptável */
    display: flex;
    align-items: center;
    gap: 4px;
    margin-top: 2px;
  }
}

.trowDate {
  font-size: 0.85rem;
  color: var(--text-secondary); /* Cinza adaptável */
  width: 100px;
  text-align: center;
}

/* Mantém o valor com cor fixa (verde/vermelho) ou adaptável se preferires */
.trowValue {
  font-weight: 700;
  font-size: 0.95rem;
  width: 120px;
  text-align: right;
  
  &.expense { color: #ef4444; } /* Vermelho */
  &.income { color: #10b981; }  /* Verde */
}